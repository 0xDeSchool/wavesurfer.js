{"version":3,"file":"build/wavesurfer.min.js","sources":["src/wavesurfer.js","src/webaudio.js","src/drawer.js","src/drawer.canvas.js"],"names":["WaveSurfer","defaultParams","height","waveColor","progressColor","cursorColor","selectionColor","cursorWidth","markerWidth","skipLength","minPxPerSec","samples","pixelRatio","window","devicePixelRatio","fillParent","scrollParent","normalize","audioContext","container","renderer","dragSelection","loopSelection","audioRate","interact","maxDuration","init","params","this","util","extend","document","querySelector","Error","markers","once","bindMarks","bind","savedVolume","isMuted","createMedia","createBackend","createDrawer","my","media","createElement","controls","autoplay","addEventListener","onCanPlay","fireEvent","appendChild","drawer","Object","create","Drawer","on","drawBuffer","progress","seekTo","drag","updateSelection","clearSelection","e","backend","WebAudio","restartAnimationLoop","requestFrame","requestAnimationFrame","webkitRequestAnimationFrame","frame","isPaused","getPlayedPercents","getDuration","getCurrentTime","playAt","percents","play","pause","playPause","skipBackward","seconds","skip","skipForward","offset","timings","paused","stop","setVolume","newVolume","toggleMute","getVolume","mark","options","opts","id","getId","width","percentage","position","update","Mark","updateMark","removeMark","addMark","redrawMarks","keys","forEach","clearMarks","remove","duration","Math","max","min","length","getWidth","round","drawPeaks","getPeaks","drawAsItPlays","peaks","Uint8Array","prevX","setWidth","x","waveform","clearWave","drawWave","load","url","empty","src","oncanplay","loadMedia","loadArrayBuffer","arraybuffer","decodeArrayBuffer","callback","xhr","XMLHttpRequest","open","responseType","onProgress","status","response","statusText","send","lengthComputable","percentComplete","loaded","total","target","prevTime","played","time","marker","disconnectSource","destroy","unAll","removeChild","selection","percent0","startPercentage","percent1","endPercentage","color","tmpPercent","selMark0","selMark1","toggleLoopSelection","selectionPercent0","selectionPercent1","getSelection","startPosition","endPosition","enableInteraction","disableInteraction","toggleInteraction","apply","getTitle","slice","join","key","Observer","event","fn","handlers","push","un","i","splice","handler","args","Array","prototype","call","arguments","len","dest","sources","source","random","toString","substring","values","median","Infinity","val","abs","scriptBufferSize","fftSize","AudioContext","webkitAudioContext","ac","getAudioContext","offlineAc","getOfflineAudioContext","sampleRate","loop","prevFrameTime","scheduledPause","createVolumeNode","createScriptNode","createAnalyserNode","setPlaybackRate","setFilter","filterNode","disconnect","gainNode","connect","destination","bufferSize","scriptNode","createScriptProcessor","createJavaScriptNode","onaudioprocess","onPlayFrame","loopStart","loopEnd","analyser","createAnalyser","analyserData","frequencyBinCount","value","playbackRate","createGain","createGainNode","newGain","gain","createMediaElementSource","errback","decodeAudioData","data","buffer","start","end","currentTime","sampleSize","sampleStep","channels","numberOfChannels","Float32Array","c","chan","getChannelData","peak","j","offlineAudioContext","OfflineAudioContext","webkitOfflineAudioContext","startPercent","endPercent","getByteTimeDomainData","containerWidth","clientWidth","lastPos","createWrapper","createElements","wrapper","style","display","userSelect","webkitUserSelect","overflowX","overflowY","setupWrapperEvents","handleEvent","preventDefault","bbox","getBoundingClientRect","clientX","left","scrollLeft","scrollWidth","onMouseUp","removeEventListener","stopPropagation","resetScroll","el","styles","prop","recenter","percent","recenterOnPosition","immediate","half","rate","updateWidth","minPxDelta","pos","newPos","updateProgress","drawSelection","eraseSelection","Canvas","waveCanvas","zIndex","progressWave","overflow","borderRight","progressCanvas","selectionCanvas","waveCc","getContext","progressCc","selectionCc","cc","canvas","clearRect","$","fillStyle","coef","halfH","beginPath","moveTo","h","lineTo","fill","markEl","getElementById","title","backgroundColor","fillRect"],"mappings":"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","sourceRoot":"/"}